<?php
/**
 * Mageplaza
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Mageplaza.com license that is
 * available through the world-wide-web at this URL:
 * https://www.mageplaza.com/LICENSE.txt
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this extension to newer
 * version in the future.
 *
 * @category    Mageplaza
 * @package     Mageplaza_BetterPopup
 * @copyright   Copyright (c) Mageplaza (https://www.mageplaza.com/)
 * @license     https://www.mageplaza.com/LICENSE.txt
 */

/** @var \Mageplaza\BetterPopup\Block\Popup $block */
if ($block->checkPagesToShow()):
    $floatLocation = ($block->getLocationFloatButton() == 1) ? 'left: 70px' : 'right:70px'; ?>
    <canvas id="screen"></canvas>
    <div id="mageplaza-betterpopup-block" class="mageplaza-betterpopup-block"
         data-mage-init='{"mpPopup": { "dataPopup": <?php echo $block->getAjaxData(); ?>}}'>
        <div id="bio_ep" style="background-color: <?php echo $block->getBackGroundColor(); ?>; display:none">
            <div class="mageplaza-betterpopup-content">
                <div id="bio_ep_close" aria-label="Close">
                    <img src="<?php echo $block->getViewFileUrl('Mageplaza_BetterPopup::images/icon-close.png'); ?>"/>
                </div>
                <div id="bio_ep_content" class="better-popup-content"
                     style="color: <?php echo $block->getTextColor(); ?>">
                    <?php echo $block->getPopupContent(); ?>
                </div>
            </div>
            <div id="mp-powered">
                <span class="lable-powered">Powered by Mageplaza</span>
            </div>
        </div>
        <?php if ($block->isShowFloatButton()): ?>
            <div class="mp-better-popup-click-trigger" style="<?php echo $floatLocation; ?>; display: none">
                <button class="click-trigger primary"><?php echo $block->getFloatLabel(); ?></button>
            </div>
        <?php endif; ?>
    </div>
    <style>
        .mppopup-text {
            color: <?php echo $block->getTextColor(); ?>
        }
    </style>
<?php endif; ?>
